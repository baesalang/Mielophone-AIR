<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 xmlns:advancedprogress="com.codezen.component.advancedprogress.*"
		 width="300" height="300"
		 mouseMove="{onMouseMove(event)}"
		 rollOut="{onMouseOut(event)}">
	
	<fx:Script source="../../../logic/player/Player.as" />
	
	<!-- background fill -->
	<s:Rect left="0" right="0" top="0" bottom="0" >
		<s:fill>
			<s:LinearGradient rotation="-90">
				<s:GradientEntry color="#1A1917" />
				<s:GradientEntry color="#3c3b39" />
			</s:LinearGradient>
		</s:fill>
		<s:stroke>
			<s:SolidColorStroke color="#3c3b39" weight="1" />
		</s:stroke>
		<s:filters>
			<s:DropShadowFilter angle="180" color="#3c3b39" blurX="16" blurY="16" distance="4" />
		</s:filters>
	</s:Rect>
	
	<!-- top player UI -->
	<s:VGroup width="100%" height="100%" variableRowHeight="true" horizontalAlign="center" 
			  gap="5" paddingLeft="10" paddingRight="5" paddingBottom="10" paddingTop="10">
		
		<s:HGroup width="290" paddingLeft="5" paddingRight="5" paddingBottom="5" 
				  variableColumnWidth="true">
			<!-- album image -->
			<s:Image width="50" height="50" source="{nocoverImg}" 
					 smooth="true" smoothingQuality="high" id="albumCover" />
			<!-- track info and buttons -->
			<s:VGroup height="100%" width="100%">
				<s:RichText fontWeight="bold" fontSize="16" color="#FFFFFF" 
						 text="Nothing is playing"
						 width="100%" maxDisplayedLines="1" id="songName" />
				
				<s:RichText fontSize="12" color="#FFFFFF" 
						 text=""
						 width="100%" maxDisplayedLines="1" id="artistName" />
				
				<s:HGroup width="100%" visible="false">
					<s:Button label="Download" chromeColor="#36679f" color="#FFFFFF"  
							  icon="@Embed('/assets/player/download.png')" iconPlacement="right"
							  useHandCursor="true" alpha="0.5" />
					<s:Button label="Playlist" chromeColor="#5d575b" color="#FFFFFF" 
							  icon="@Embed('/assets/player/favourite.png')" iconPlacement="right"
							  useHandCursor="true" alpha="0.5" />
				</s:HGroup>
			</s:VGroup>
		</s:HGroup>
		
		<s:Line width="290">
			<s:stroke>
				<s:SolidColorStroke color="#272727" weight="1" />
			</s:stroke>
			<s:filters>
				<s:DropShadowFilter color="#535353" distance="1" angle="90" />
			</s:filters>
		</s:Line>
		
		<s:HGroup width="290" verticalAlign="middle" horizontalAlign="left" variableColumnWidth="true" 
				  gap="5" paddingLeft="5" paddingRight="10">
			<!-- prev play-pause next --> 
			<s:Image source="@Embed('/assets/player/previous.png')" 
					 buttonMode="true" useHandCursor="true"
					 click="{prev_btn_clickHandler(event)}"/>
			<s:Image source="{playImg}" id="playBtn"
					 buttonMode="true" useHandCursor="true" 
					 click="{playBtn_clickHandler(event)}"/>
			<s:Image source="@Embed('/assets/player/next.png')"
					 buttonMode="true" useHandCursor="true"
					 click="{next_btn_clickHandler(event)}"/>
			
			<s:Spacer width="30" />
			
			<!-- repeat random -->
			<s:Image source="@Embed('/assets/player/repeat.png')" id="repeatButton" 
					 buttonMode="true" useHandCursor="true" 
					 click="{toggleRepeat()}">
				<s:filters>
					<s:GlowFilter inner="true" blurX="200" blurY="200" color="#afdf72" strength="8" id="repeatGlow" alpha="0" />
				</s:filters>
			</s:Image>
			<s:Image source="@Embed('/assets/player/shuffle.png')" id="shuffleButton" 
					 buttonMode="true" useHandCursor="true" 
					 click="{toggleShuffle()}">
				<s:filters>
					<s:GlowFilter inner="true" blurX="200" blurY="200" color="#afdf72" strength="8" id="shuffleGlow" alpha="0" />
				</s:filters>
			</s:Image>
			
			<s:Spacer width="30" />
			
			<!-- volume control -->
			<s:Image source="@Embed('/assets/player/volume.png')" />
			<s:HSlider width="100%" minimum="0" maximum="100" value="100" 
					   liveDragging="true" mouseFocusEnabled="false" 
					   id="volumeSlider" change="{onVolumeSlider(event)}"/>
		</s:HGroup>
		
		<s:HGroup width="290" verticalAlign="middle" variableColumnWidth="true"
				  paddingLeft="10" paddingRight="10">
			<s:Label color="#FFFFFF" text="" id="timeCurrent" />
			<advancedprogress:AdvancedProgressBar width="100%" gradientStartColor="#afdf72" gradientEndColor="#38a226" id="timeSlider" 
												  />
			<s:Label color="#FFFFFF" text="" id="timeMax" />
		</s:HGroup>
		
		<s:Spacer height="10" />
		
		<s:Scroller width="100%" height="100%" skinClass="com.codezen.skins.scroll.SmallScroll" id="songScroll">
			<s:DataGroup width="100%" height="100%" id="songList" itemRenderer="mielophone.ui.itemrenderers.FullMiniSongItem">
				<s:layout>
					<s:VerticalLayout gap="0" paddingRight="5" />
				</s:layout>
			</s:DataGroup>
		</s:Scroller>
		
		<s:HGroup width="100%" horizontalAlign="center" verticalAlign="middle">
			<s:Image source="{fullImg}" id="toggleFullBtn" click="{toggleFullMode()}"
					 buttonMode="true" useHandCursor="true"/>
		</s:HGroup>
	</s:VGroup>
</s:Group>
